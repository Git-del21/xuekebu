<!DOCTYPE html>
<html lang="zh-CN" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>学术科技部</title>
    <link rel="stylesheet" href="css/linear-style.css">
    <style>
        body, html {
            font-family: '楷体', '楷体_GB2312', 'KaiTi', 'STKaiti', 'Noto Serif SC', serif !important;
        }
    </style>
</head>
<body>
    <canvas id="snake-bg-canvas"></canvas>
    <div class="container note">
        <header>
            <div class="logo">
                <h1><a href="index.html">学术科技部</a></h1>
                <p>记录我们的欢笑与成长</p>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">首阙</a></li>
                    <li><a href="timeline.html">岁笺</a></li>
                    <li><a href="gallery.html">画棠集</a></li>
                    <li><a href="our-people.html">同袍录</a></li>
                    <li><a href="resources.html">藏珠阁</a></li>
                    <li><a href="about.html">素履志</a></li>
                    <li><a href="message-board.html">鸿笺驿</a></li>
                </ul>
            </nav>
            <button id="theme-toggle" aria-label="切换主题">浅色模式</button>
        </header>

        <section class="hero-section">
            <div class="video-crossfade" style="margin-top: 80px;">
                <video id="videoA" src="move.mp4" class="hero-video" autoplay loop muted playsinline></video>
                <video id="videoB" src="move.mp4" class="hero-video" muted playsinline style="opacity:0"></video>
            </div>
            <h1>汇智聚力，共探前沿</h1>
            <p>在这里，我们相遇相知相伴。</p>
            <div class="cta-group">
                <a href="about.html" class="cta-button">介绍</a>
                <a href="gallery.html" class="cta-button secondary">画廊</a>
            </div>
        </section>

        <main>
            <section class="content-area">
                <div class="card">
                    <h2>学术之路</h2>
                    <p>回溯平台成长轨迹，从最初的小型学术沙龙，到如今覆盖多学科的资源共享网络，我们始终秉持"互助共进"的理念。从定期开展学习讲座，到跨专业学习经验分享常态化举办，每一步都见证着同学们在交流中成长、在共享中进步的足迹。</p>
                    <a href="timeline.html" class="details-link">探索历程 →</a>
                </div>

                <div class="card">
                    <h2>伙伴</h2>
                    <p>我们的团队由热爱学术的师生共同组成，既有深耕专业领域的指导老师，也有活跃在各学科的学生骨干。从生物到化学，不同专业背景的伙伴们因"推动学术交流"的初心相聚，用热忱搭建起这座连接知识的桥梁。</p>
                    <a href="our-people.html" class="details-link">认识我们 →</a>
                </div>

                <div class="card">
                    <h2>活动</h2>
                    <p>从各类知识竞赛，到各专业前沿讲座，再到期末复习资料互助会。在这里，总能找到适合你的学术养分。</p>
                    <a href="gallery.html#projects" class="details-link">查看活动 →</a>
                </div>
            </section>

            <aside class="sidebar">
                <section class="widget">
                    <h4>关于本站</h4>
                    <p>让知识流动起来，让思考碰撞起来。</p>
                </section>
                <section class="widget">
                    <h4>主题与关键词</h4>
                    <div class="themes-keywords">
                        <a href="#">学术交流</a>
                        <a href="#">资源共享</a>
                        <a href="#">论文写作</a>
                        <a href="#">学科交叉</a>
                        <a href="#">讲座研讨</a>
                        <a href="#">资料互助</a>
                        <a href="#">学习方法</a>
                        <a href="#">科研入门</a>
                    </div>
                </section>
            </aside>
        </main>
    </div>

    <footer>
        <p>© <span id="current-year"></span> 学术科技部. 保留所有权利。</p>
        <p>很高兴遇见你们。</p>
    </footer>

    <script src="js/script.js"></script>
    <script src="js/snake-background.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      const videoA = document.getElementById('videoA');
      const videoB = document.getElementById('videoB');
      let isAActive = true;
      let crossfading = false;
      const crossfadeTime = 0.8; // 秒
      function setupCrossfade(from, to) {
        if (crossfading) return;
        crossfading = true;
        to.currentTime = 0;
        to.play();
        to.style.opacity = 0;
        to.style.zIndex = 2;
        from.style.zIndex = 1;
        let start = null;
        function animateFade(ts) {
          if (!start) start = ts;
          let progress = (ts - start) / (crossfadeTime * 1000);
          if (progress > 1) progress = 1;
          to.style.opacity = progress;
          from.style.opacity = 1 - progress;
          if (progress < 1) {
            requestAnimationFrame(animateFade);
          } else {
            from.pause();
            from.style.opacity = 0;
            to.style.opacity = 1;
            crossfading = false;
            isAActive = !isAActive;
          }
        }
        requestAnimationFrame(animateFade);
      }
      function monitor() {
        const active = isAActive ? videoA : videoB;
        const next = isAActive ? videoB : videoA;
        if (!crossfading && active.duration - active.currentTime < crossfadeTime + 0.1) {
          setupCrossfade(active, next);
        }
        requestAnimationFrame(monitor);
      }
      videoA.addEventListener('loadedmetadata', () => {
        videoA.play();
        monitor();
      });
    });
    </script>
</body>
</html>
